<h3>Appearance</h3>

<div class="row">
    <div class="col-xs-3">
        <div class="form-group">
            <label>Page</label>
            <input class="form-control" type="number" placeholder="e.g. 6" name="position[page]"
                   min="1" max="12" required="required" value="{{ widget.position.page }}">
        </div>
    </div>
    <div class="col-xs-3">
        <div class="form-group">
            <label>Row</label>
            <input class="form-control" type="number" placeholder="e.g. 1" name="position[row]"
                   min="1" required="required" value="{{ widget.position.row }}">
        </div>
    </div>
    <div class="col-xs-3">
        <div class="form-group">
            <label>Column index</label>
            <input class="form-control" type="number" placeholder="e.g. 2"
                   name="position[column_index]" min="1" max="12"
                   required="required" value="{{ widget.position.column_index }}">
        </div>
    </div>
    <div class="col-xs-3">
        <div class="form-group">
            <label>Column width</label>
            <input class="form-control" type="number" placeholder="e.g. 6" name="position[column]"
                   min="1" max="12" required="required" value="{{ widget.position.column }}">
        </div>
    </div>
</div>
<div class="row">
    <div class="col-xs-6">
        <div class="form-group">
            <label>Color</label>
            <select class="form-control" name="appearance[color]">
                {% for color in colors %}
                    <option value="{{ color }}" {{ ( widget.appearance.color == color ) ? 'selected' : '' }}>{{ color|capitalize }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div class="col-xs-6">
        <div class="form-group">
            <label>Icon</label>
            <select class="form-control" name="appearance[icon]">

                {% for icon in icons %}
                    <option value="{{ icon.class }}" {{ ( widget.appearance.icon == icon.class ) ? 'selected' : '' }}>
                        {{ icon.name }}
                    </option>
                {% endfor %}

            </select>
        </div>
    </div>

</div>

{% if limits == true %}
<!-- Limits-->
<div class="row">

    <div class="col-xs-12">
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input class="limits-checkbox" type="checkbox" name="appearance[limitsActive]" {{ widget.appearance.limitsActive ? 'checked=checked' : '' }}>
                    Enable lower and higher limits
                </label>
            </div>

        </div>
    </div>

</div>

    <div class="limits {{ widget.appearance.limitsActive ? '' : 'hidden' }}">

        <!-- Lower limit -->
        <h4>Lower limit</h4>
        <div class="row">
            <div class="col-xs-4">
                <div class="form-group">
                    <label>Color</label>
                    <select class="form-control" name="appearance[lowLimit][color]">
                        {% for color in colors %}
                            <option value="{{ color }}" {{ ( widget.appearance.lowLimit.color == color ) ? 'selected' : '' }}>{{ color|capitalize }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="form-group">
                    <label>Icon</label>
                    <select class="form-control" name="appearance[lowLimit][icon]">

                        {% for icon in icons %}
                            <option value="{{ icon.class }}" {{ ( widget.appearance.lowLimit.icon == icon.class ) ? 'selected' : '' }}>
                                {{ icon.name }}
                            </option>
                        {% endfor %}

                    </select>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="form-group">
                    <label>Limit</label>
                    <input class="form-control" type="number" name="appearance[lowLimit][value]" value="{{ widget.appearance.lowLimit.value }}"/>
                </div>
            </div>

        </div>


        <!-- High limit -->
        <h4>High limit</h4>
        <div class="row">
            <div class="col-xs-4">
                <div class="form-group">
                    <label>Color</label>
                    <select class="form-control" name="appearance[highLimit][color]">
                        {% for color in colors %}
                            <option value="{{ color }}" {{ ( widget.appearance.highLimit.color == color ) ? 'selected' : '' }}>{{ color|capitalize }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="form-group">
                    <label>Icon</label>
                    <select class="form-control" name="appearance[highLimit][icon]">

                        {% for icon in icons %}
                            <option value="{{ icon.class }}" {{ ( widget.appearance.highLimit.icon == icon.class ) ? 'selected' : '' }}>
                                {{ icon.name }}
                            </option>
                        {% endfor %}

                    </select>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="form-group">
                    <label>Limit</label>
                    <input class="form-control" type="number" name="appearance[highLimit][value]" value="{{ widget.appearance.highLimit.value }}"/>
                </div>
            </div>
        </div>

    </div>

{% endif %}

<script type="text/javascript">

    $('.limits-checkbox').change(function () {

        var limitsDiv = $('.limits');

        if($(this).is(":checked")) {
            limitsDiv.removeClass('hidden');
            return;
        }
        limitsDiv.addClass('hidden');
    })


</script>