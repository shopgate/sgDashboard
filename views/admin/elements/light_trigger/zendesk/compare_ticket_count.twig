<div class="modal-body">

    {% if not lighttrigger is empty  %}
        <input type="hidden" name="id" value="{{ lighttrigger._id }}">
    {% endif %}

    <input type="hidden" name="dataSource[sourceSystem]" value="zendesk" />
    <input type="hidden" name="dataSource[type]" value="compare_ticket_count" />
    <input type="hidden" name="triggerType" value="compare" />
    <input type="hidden" name="lightStatus[state]" value="colorChange" />

    <!-- Title -->
    <div class="form-group">
        <label>Title</label>
        <input type="text" class="form-control" required="required"
               name="title" value="{{ lighttrigger.title|e('html_attr') }}">
    </div>

    <!-- Zendesk -->
    <div class="form-group">
        <label>Source Zendesk Query</label>
        <input type="text" class="form-control" placeholder="" required="required"
               name="dataSource[queries][sourceQuery]" value="{{ lighttrigger.dataSource.queries.sourceQuery|e('html_attr') }}">
    </div>

    <!-- Compare JQL -->
    <div class="form-group">
        <label>Zendesk query to compare</label>
        <input type="text" class="form-control" placeholder="" required="required"
               name="dataSource[queries][destinationQuery]" value="{{ lighttrigger.dataSource.queries.destinationQuery|e('html_attr') }}">
    </div>

    {% include 'admin/elements/light_trigger/lights_chooser.twig' %}
    {% include 'admin/elements/light_trigger/color_chooser.twig' %}
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
    <button type="submit" class="btn btn-primary">{{ (lighttrigger is empty) ? "Add lighttrigger" : "Save" }}</button>
</div>